<?xml version="1.0" encoding="utf-8"?>
<diff>
	<replace  sel="//library[@name='Start']/params/param[@name='OfferDistance']/@default">350km</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_if[@value='md.$SplitPatriarchyFactions.indexof.{$Faction}']/set_value[@name='$HostileFaction']/@exact">faction.blacksun</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_elseif[@value='md.$SplitFactions.indexof.{$Faction}']/set_value[@name='$HostileFaction']/@exact">faction.blacksun</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_elseif[@value='md.$TerranFactions.indexof.{$Faction}']/set_value[@name='$HostileFaction']/@exact">faction.blacksun</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_elseif[@value='md.$DLCBoronFactions.indexof.{$Faction}']/set_value[@name='$HostileFaction']/@exact">faction.blacksun</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_if[@value='$ValidOffsets.count']/do_if[@value='$TextOffset == 1000']/set_value[@name='$HostileFaction']/@exact">faction.blacksun</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_if[@value='$ValidOffsets.count']/do_elseif[@value='$TextOffset == 1100']/set_value[@name='$SalvageShipFaction']/@exact">faction.blacksun</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_if[@value='$ValidOffsets.count']/do_elseif[@value='$TextOffset == 1100']/set_value[@name='$HostileFaction']/@exact">faction.blacksun</replace>
    <replace sel="/mdscript/cues/cue[@name='GenerateGenericMission']/cues/cue[@name='GenerateGenericMission_Variant_1']/actions/do_if[@value='$OfferStations.count']/do_if[@value='$ValidOffsets.count']/do_elseif[@value='$TextOffset == 1200']/set_value[@name='$SalvageShipFaction']/@exact">[faction.galempire, faction.newrepublic, faction.ascendancy, faction.anoat, faction.corporate, faction.commerceguild, faction.huttcartel].random</replace>
  <!-- kuertee: RAP -->
<!--
    <library name="GenerateTextTable">
        <actions>
-->
    <add pos="prepend" sel="//library[@name=&quot;GenerateTextTable&quot;]/actions">
        <include_actions ref="md.kuertee_professions_guilds.GuildMissionContainer_Description" />
    </add>
<!-- ADD:
    <library name="Start">
        <params>
-->
    <add sel="//library[@name=&quot;Start&quot;]/params">
        <param name="MissionGroup" default="null" />
    </add>
<!-- ADD property group:
    <create_offer cue="$MissionCue" ... >
-->
    <add sel="//create_offer[@cue=&quot;$MissionCue&quot;]" type="@group">$MissionGroup</add>
<!--
    <signal_cue_instantly cue="md.GenericMissions.GenericAcceptLogbookEntry" param="[$TextTable.$missionname, $Client, $ClientOwner]"/>
-->
    <add pos="after" sel="//signal_cue_instantly[@cue=&quot;md.GenericMissions.GenericAcceptLogbookEntry&quot;]">
		<set_value name="$DebugChance" exact="md.kuertee_professions_guilds.UserSettings.$debugChance3" />
		<set_value name="namespace.$kProfs_timeStart" exact="player.age" />
    </add>
<!-- replace:
    <cue name="RescueShip" ref="md.RML_RescueShip.RescueShip">
        <param name="MissionCue"                value="Start"/>
-->
    <replace sel="//cue[@name=&quot;RescueShip&quot;][@ref=&quot;md.RML_RescueShip.RescueShip&quot;]/param[@name=&quot;MissionCue&quot;][@value=&quot;Start&quot;]">
        <param name="MissionCue" value="$MissionCue" />
    </replace>
<!--
    <cue name="MissionEnded">
        <set_value name="stat.missions_completed" operation="add"/>
-->
    <add pos="after" sel="//cue[@name=&quot;MissionEnded&quot;]//set_value[@name=&quot;stat.missions_completed&quot;][@operation=&quot;add&quot;]">
        <set_value name="namespace.$kProfs_isSuccess" exact="true" />
        <set_value name="namespace.$kProfs_rewardCr" exact="$RewardCr" />
        <set_value name="namespace.$kProfs_rewardObj" exact="$RewardObj" />
    </add>
<!--
    <cue name="CleanUp">
        <actions>
-->
    <add pos="prepend" sel="//cue[@name=&quot;CleanUp&quot;]/actions">
        <do_if value="@namespace.$kProfs_timeStart">
            <signal_cue_instantly cue="md.kuertee_professions.GMMissionEnd" param="table[
                $profRepu = md.kuertee_professions.kProfs.$repu_Defender,
                $activityId = if @namespace.$kProfs_isSuccess then md.kuertee_professions.kProfs.$activity_full_mission_success else md.kuertee_professions.kProfs.$activity_full_mission_failure,
                $missionLib = namespace,
                $rewardCr = @namespace.$kProfs_rewardCr,
                $rewardObj = @namespace.$kProfs_rewardObj
            ]" />
        </do_if>
    </add>
</diff>
